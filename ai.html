<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Build-Core</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
       <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
        <!-- Custom CSS -->
        <link rel="stylesheet" href="style.css">
        <!-- jQuery CDN Link -->
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script> 
        <!-- jQuery CDN -->
        <script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha384-oWBQ7fmgRox+7NQK9nZNNbfFLmTVsf5AIUV5h5Q5kVD7zM7N20N2kR2xD3+pxyze" crossorigin="anonymous"></script>
            <!-- Font Awesome for icons -->
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
        <!-- Bootstrap Icons -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,500;0,700;1,400&display=swap" rel="stylesheet">
    
</head>
<body>
     <!-- Main Navigation Bar -->
     <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand d-flex align-items-center" href="index.php">
                <img src="images/logo.jpeg" alt="BuildCore Logo" width="50" height="50" class="rounded-circle me-2">
                <span>BuildCore</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavMain">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavMain">
                <ul class="navbar-nav ms-auto align-items-center">
                    <li class="nav-item">
                        <a class="nav-link active d-flex align-items-center" href="index.php">
                            <i class="fas fa-home me-1"></i> Home
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link d-flex align-items-center" href="register.php">
                            <i class="fas fa-shopping-cart me-1"></i> Order here
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link d-flex align-items-center" href="ai.html">
                            <i class="fas fa-robot me-1"></i> AI Estimation
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link d-flex align-items-center" href="contact.html">
                            <i class="fas fa-envelope me-1"></i> Contact
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link d-flex align-items-center" href="admin_dashboard.php">
                            <i class="fas fa-user-shield me-1"></i> Admin
                        </a>
                    </li>
                    <li class="nav-item ms-3">
                        <div class="input-group">
                            <input type="text" id="searchBar" placeholder="Search..." class="form-control">
                            <button id="searchButton" class="btn btn-outline-light">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Form Section -->
    <section class="container my-5">
        <div class="card shadow-lg p-4 rounded-4 border-0" style="background: linear-gradient(135deg, #f7f9fc, #dde7f1);">
            <h2 class="text-center fw-bold text-primary mb-4"><i class="fas fa-robot"></i> AI Estimation for Material</h2>
            <form id="estimateForm">
                <div class="mb-3">
                    <label for="rooms" class="form-label text-primary fw-bold">Number of Rooms</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="fas fa-home"></i></span>
                        <input type="number" class="form-control" id="rooms" placeholder="Enter number of rooms" required>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="dimensionUnit" class="form-label text-primary fw-bold">Dimension Unit</label>
                    <select class="form-select" id="dimensionUnit" required>
                        <option value="inches">Inches</option>
                        <option value="feet">Feet</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="wallHeight" class="form-label text-primary fw-bold">Wall Height</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="fas fa-ruler-vertical"></i></span>
                        <input type="number" class="form-control" id="wallHeight" placeholder="Enter wall height" required>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="wallWidth" class="form-label text-primary fw-bold">Wall Width</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="fas fa-ruler-horizontal"></i></span>
                        <input type="number" class="form-control" id="wallWidth" placeholder="Enter wall width" required>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="wallThickness" class="form-label text-primary fw-bold">Wall Thickness</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="fas fa-border-all"></i></span>
                        <input type="number" step="0.1" class="form-control" id="wallThickness" placeholder="Enter wall thickness (e.g., 0.6 for feet)" required>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="material" class="form-label text-primary fw-bold">Material Type</label>
                    <select class="form-select" id="material" required>
                        <option value="bricks">Bricks</option>
                        <option value="concreteBlocks">Concrete Blocks</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="doors" class="form-label text-primary fw-bold">Number of Doors (Optional)</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="fas fa-door-open"></i></span>
                        <input type="number" class="form-control" id="doors" placeholder="Enter number of doors" value="0">
                    </div>
                </div>
                <div class="mb-3">
                    <label for="windows" class="form-label text-primary fw-bold">Number of Windows (Optional)</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="fas fa-window-restore"></i></span>
                        <input type="number" class="form-control" id="windows" placeholder="Enter number of windows" value="0">
                    </div>
                </div>
                <div class="text-center my-3">
                    <img id="materialImage" src="images/logo.png" alt="Material Image" width="200" class="rounded-3 shadow-lg">
                </div>
                <div class="mb-3">
                    <button type="submit" class="btn w-100 text-white" style="background: #007bff; box-shadow: 0 0 15px rgba(0, 123, 255, 0.5); transition: 0.3s;">
                        <i class="fas fa-calculator"></i> Calculate Estimation
                    </button>
                </div>
            </form>
        </div>
    </section>

    <!-- Results Modal -->
    <div class="modal fade" id="resultModal" tabindex="-1" aria-labelledby="resultModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content shadow-lg rounded-4">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title fw-bold" id="resultModalLabel"><i class="fas fa-file-invoice-dollar"></i> Material Estimation Results</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <!-- Company Details -->
                    <div class="text-center mb-4">
                        <img src="images/logo.png" alt="Company Logo" width="100" class="rounded-circle shadow-sm">
                        <h4 class="mt-2 fw-bold">AL MAKKAH BLOCK FACTORY</h4>
                        <p><i class="fas fa-map-marker-alt"></i> MUGHLOORA CHOCK THATHI BHIMBER AZAD KASHMIR</p>
                        <p><i class="fas fa-phone"></i> Contact: <strong>Hamza Ghafoor</strong> (0346-1183816), <strong>CEO M. Ghafoor</strong> (0344-6300367)</p>
                        <p><i class="fas fa-envelope"></i> Gmail: hamza409115720@gmail.com, almakkah@gmail.com, buildcore@gmail.com</p>
                        <hr>
                    </div>
                    
                    <!-- Estimation Results -->
                    <div id="resultModalBody" class="p-3 bg-light rounded border"></div>

                    <!-- Acknowledgment -->
                    <div class="text-center mt-5">
                        <p class="text-muted"><strong>Special Regards:</strong> University of Gujarat, Department of BS-IT</p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" onclick="printResult()">Print</button>
                    <button class="btn btn-success" onclick="downloadResult()">Download</button>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript Logic -->
    <script>
        document.getElementById('estimateForm').addEventListener('submit', function (event) {
            event.preventDefault();

            const rooms = parseInt(document.getElementById('rooms').value);
            const dimensionUnit = document.getElementById('dimensionUnit').value;
            let wallHeight = parseFloat(document.getElementById('wallHeight').value);
            let wallWidth = parseFloat(document.getElementById('wallWidth').value);
            let wallThickness = parseFloat(document.getElementById('wallThickness').value);
            const materialType = document.getElementById('material').value;
            const doors = parseInt(document.getElementById('doors').value) || 0;
            const windows = parseInt(document.getElementById('windows').value) || 0;

            // Convert dimensions from feet to inches if necessary
            if (dimensionUnit === 'feet') {
                wallHeight *= 12;
                wallWidth *= 12;
                wallThickness *= 12;
            }

            const unitSpecs = {
                bricks: { volume: 9 * 4 * 3, price: 14 },
                concreteBlocks: { volume: 12 * 8 * 6, price: 80 },
                cementBagPrice: 1200,
            };

            const material = unitSpecs[materialType];
            const doorArea = doors * 84 * 36; // 7x3 ft to inches
            const windowArea = windows * 60 * 36; // 5x3 ft to inches
            const wallArea = rooms * (4 * wallHeight * wallWidth) - doorArea - windowArea;

            const totalUnits = Math.ceil(wallArea / material.volume);
            const cementBags = Math.ceil((wallArea * 0.07) / 1728);
            const totalCost = totalUnits * material.price + cementBags * unitSpecs.cementBagPrice;

            const resultModalBody = document.getElementById('resultModalBody');
            resultModalBody.innerHTML = `
                <h4>Estimated Materials:</h4>
                <p><strong>Number of Rooms:</strong> ${rooms}</p>
                <p><strong>Total Wall Area:</strong> ${(wallArea / 144).toFixed(2)} sq ft</p>
                <p><strong>Material Type:</strong> ${materialType === 'bricks' ? 'Bricks' : 'Concrete Blocks'}</p>
                <p><strong>Cost per Unit:</strong> ₨${material.price} per ${materialType === 'bricks' ? 'brick' : 'block'}</p>
                <p><strong>Cement Price per Bag:</strong> ₨${unitSpecs.cementBagPrice}</p>
                <p><strong>Materials:</strong> ${totalUnits} units</p>
                <p><strong>Cement Bags:</strong> ${cementBags} bags</p>
                <p><strong>Total Cost:</strong> ₨${totalCost}</p>
            `;
            new bootstrap.Modal(document.getElementById('resultModal')).show();
        });

        function printResult() {
            const resultContent = document.getElementById('resultModalBody').innerHTML;
            const printWindow = window.open('', '', 'height=400,width=800');
            printWindow.document.write('<html><head><title>Print Estimation</title></head><body>');
            printWindow.document.write(resultContent);
            printWindow.document.write('</body></html>');
            printWindow.document.close();
            printWindow.print();
        }

        function downloadResult() {
            const resultContent = document.getElementById('resultModalBody').innerText;
            const blob = new Blob([resultContent], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'Estimation.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
        }

        document.getElementById('material').addEventListener('change', function () {
            const materialImage = document.getElementById('materialImage');
            materialImage.src = `images/${this.value}.png`;
            gsap.from(materialImage, { scale: 0.5, opacity: 0, duration: 0.5 });
        });
    </script>
    <script src="ai.js"></script>
    <footer class="bg-dark text-white text-center py-3"><p>&copy; 2025 BuildCore</p></footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>